System.register(["./index-legacy-BlOgdO4P.js","./bj-legacy-CawL6aUx.js","./bj-mobile-legacy-BJTXGEdx.js","./time-legacy-BENJM3Ry.js","./countdown-legacy-BK1e-Emt.js","./USDTToken-legacy-CHcaFfCl.js","./noTeam-legacy-BiBbvc60.js","./chevron-right-legacy-BQ1j7c8p.js","./loader-legacy-BAEruPwp.js"],(function(e,t){"use strict";var s,a,n,i,l,r,c,m,d,x,p,u,o,y,f,b,h,v,j,g,w,N,C,M,S,B,D,U,A,F,I,k,_,E,O;return{setters:[e=>{s=e.M,a=e.y,n=e.C,i=e.D,l=e.E,r=e.G,c=e.H,m=e.l,d=e.a,x=e.d,p=e.b,u=e.J,o=e.r,y=e.h,f=e.g,b=e.m,h=e.j,v=e.i,j=e.f,g=e.t,w=e.e,N=e.q,C=e.V,M=e.s,S=e.w,B=e.n},e=>{D=e.b},e=>{U=e.b},e=>{A=e.t},e=>{F=e.C},e=>{I=e.g,k=e.U},e=>{_=e.n},e=>{E=e.C},e=>{O=e.L}],execute:function(){const t=s("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),q=async(e,t)=>{const s=a(m),d=56==s?{Authorization:`Bearer ${r[s]}`}:void 0,x=n(t?.where),p=i(`query fomoUsers {\n    fomoUsers(\n          first: ${t?.first??1e3}\n          skip:${t?.skip??0}\n          orderBy:${t?.orderBy??"createAt"}\n          orderDirection:desc\n          ${x}\n        ) {\n         user\n    cycle\n    createAt\n        }\n      }`),{fomoUsers:u}=await e.fetchQuery({queryKey:[t?.queryKey??"fomoUsers"],queryFn:async()=>l(c[s],p,void 0,d)});return u},T="/assets/img-D5glm7d4.png",$={address:"0x83082899d1719A012B63D522f0B6509F8035735c",abi:[{type:"constructor",stateMutability:"nonpayable",inputs:[]},{name:"AddUser",type:"event",inputs:[{type:"address",name:"user",indexed:!0},{type:"uint256",name:"cycle"}]},{name:"Claim",type:"event",inputs:[{type:"address",name:"user",indexed:!0},{type:"uint256",name:"amount"},{type:"uint256",name:"cycle"}]},{name:"Initialized",type:"event",inputs:[{type:"uint8",name:"version"}]},{name:"currentCycle",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{name:"cycleUserCountOf",type:"function",stateMutability:"view",inputs:[{type:"uint256"}],outputs:[{type:"uint256"}]},{name:"hasRole",type:"function",stateMutability:"view",inputs:[{type:"bytes32",name:"role"},{type:"address",name:"account"}],outputs:[{type:"bool"}]},{name:"lastDistributeAt",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{name:"perUserRewardOf",type:"function",stateMutability:"view",inputs:[{type:"uint256"}],outputs:[{type:"uint256"}]},{name:"reserve",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{name:"usdt",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"address"}]},{name:"userCyclesOf",type:"function",stateMutability:"view",inputs:[{type:"address"},{type:"uint256"}],outputs:[{type:"uint256"}]},{name:"userLastIndexOf",type:"function",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{name:"initialize",type:"function",stateMutability:"nonpayable",inputs:[{type:"address",name:"_permissionAdmin"},{type:"address",name:"_usdt"}],outputs:[]},{name:"isInCycle",type:"function",stateMutability:"view",inputs:[{type:"address",name:"_user"},{type:"uint256",name:"_cycle"}],outputs:[{type:"bool"}]},{name:"addUser",type:"function",stateMutability:"nonpayable",inputs:[{type:"address",name:"_user"}],outputs:[]},{name:"startDistribute",type:"function",stateMutability:"nonpayable",inputs:[],outputs:[]},{name:"distribute",type:"function",stateMutability:"nonpayable",inputs:[],outputs:[]},{name:"earm",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{name:"claim",type:"function",stateMutability:"nonpayable",inputs:[],outputs:[]}]};e("default",(()=>{const{t:e}=d(),{showToast:s}=x(),{address:a}=p(),n=u(),[i,l]=o.useState(!1),[r,c]=o.useState(),[z,L]=o.useState(),[G,K]=o.useState(),[R,W]=o.useState(!1),[H,J]=o.useState(!1),[Q,V]=o.useState(),[P,X]=o.useState(!1),[Y,Z]=o.useState(),[ee,te]=o.useState(),[se,ae]=o.useState(),[ne,ie]=o.useState();o.useEffect((()=>{le()}),[a]);const le=async()=>{if(!a)return;const e=(await I(m)).timestamp,[t,s,n,i]=await y(m,{contracts:[{abi:k.abi,address:C,functionName:"balanceOf",args:[$.address]},{...$,functionName:"lastDistributeAt"},{...$,functionName:"reserve"},{...$,functionName:"currentCycle"}]}).then((e=>e.map((e=>"success"==e.status?e.result:void 0))));if(null!=t&&null!=n){c(t);const e=Number(f(t-n))/2;K(e)}if(null!=s)if(s==BigInt(0))W(!1);else{W(!0);const t=s+BigInt(86400);t>e?(V(Number(t-e)),J(!1)):J(!0)}null!=i&&(re(i),te(i),Z(i));const l=await b(m,{...$,functionName:"earm",account:a});L(l)},re=async e=>{const t=await q(n,{where:{cycle:Number(e)}});ie(t.length),ae(t)};return h.jsxs("div",{className:"relative mb-[100px] md:h-full",children:[v()&&h.jsx("img",{src:D}),!v()&&h.jsx("img",{src:U,className:"mt-[-50px] h-[360px]"}),!v()&&h.jsx("img",{src:T,className:"top-0 absolute ml-[-80px] w-[400px]"}),h.jsx("div",{className:"md:top-[100px] right-0 left-0 md:absolute mt-[-160px] md:mt-0",children:h.jsx("div",{className:"container-1200",children:h.jsxs("div",{className:"relative flex md:flex-row flex-col items-start",children:[h.jsxs("div",{className:"flex-none border-[#00A899] bg-white md:mr-5 mb-4 p-6 md:p-[2.5vw] border rounded-[16px] w-full md:w-[43.3vw]",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 md:mb-[24px]",children:[h.jsxs("div",{className:"font-bold text-[20px] lg:text-[32px]",children:[h.jsx("span",{className:"mainColor",children:"FOMO·"}),e("fomo.text1")]}),R?H?h.jsx(j,{loading:P,onClick:async()=>{const t=await b(m,{...$,functionName:"currentCycle"});if(0n==await b(m,{...$,functionName:"cycleUserCountOf",args:[t]}))return s(e("treasury.Nowinning"),"error");try{X(!0);const{request:t}=await M(m,{...$,functionName:"distribute"}),a=await S(m,t);await B(m,{hash:a}),s(e("tips.updateSuccessful"),"success"),le()}catch(e){}finally{X(!1)}},variant:"blueGradientBorder",className:"md:w-[140px] md:h-[44px]",children:e("fomo.text2")}):h.jsxs("div",{className:"flex justify-center items-center border-[#dcdcdc] border rounded-[60px] w-[130px] md:w-[140px] h-[37px] md:h-[44px] mainColor",children:[h.jsx("img",{src:A,className:"mr-[5px] md:mr-[10px] w-[20px] md:w-[24px]"}),null!=Q&&h.jsx(F,{seconds:Q,onComplete:()=>J(!0),className:"font-medium !text-[#00A899] text-[14px] md:text-[16px]"})]}):h.jsx(h.Fragment,{})]}),h.jsxs("div",{className:"gap-x-4 gap-y-[10px] grid grid-cols-1 md:grid-cols-2",children:[h.jsxs("div",{className:"bg-[#F6F6F6] px-6 py-[18px] md:py-[36px] rounded-[20px] text-center md:text-left",children:[h.jsx("div",{className:"text-[16px] md:text-[24px]",children:e("fomo.text4")}),h.jsxs("div",{className:"flex flex-row md:flex-col justify-center items-center md:items-start",children:[h.jsx("div",{className:"font-bold text-[24px] md:text-[36px] mainColor",children:null!=G&&g(G)}),h.jsx("div",{className:"ml-2 md:ml-0 text-[12px] md:text-[16px]",children:"USDT"})]})]}),h.jsxs("div",{className:"bg-[#F6F6F6] px-6 py-[18px] md:py-[36px] rounded-[20px] text-center md:text-left",children:[h.jsx("div",{className:"text-[16px] md:text-[24px]",children:e("fomo.text3")}),h.jsxs("div",{className:"flex flex-row md:flex-col justify-center items-center md:items-start",children:[h.jsx("div",{className:"font-bold text-[24px] md:text-[36px] mainColor",children:null!=r&&g(f(r))}),h.jsx("div",{className:"ml-2 md:ml-0 text-[12px] md:text-[16px]",children:"USDT"})]})]})]}),h.jsxs("div",{className:"flex md:flex-row flex-col justify-between items-center bg-[#00A899] mt-4 md:px-[48px] md:py-[32px] p-6 rounded-[16px] text-center md:text-left",children:[h.jsxs("div",{className:"mb-4 md:mb-0 text-white",children:[h.jsx("div",{className:"text-[17px] md:text-[26px]",children:e("fomo.text5")}),h.jsxs("div",{className:"flex flex-row md:flex-col items-center md:items-start",children:[h.jsx("div",{className:"text-[32px] md:text-[50px]",children:null!=z&&g(f(z))}),h.jsx("div",{className:"ml-2 md:ml-0 text-[15px] md:text-[24px]",children:"USDT"})]})]}),h.jsx(j,{disabled:null==z||0==Number(g(f(z))),loading:i,onClick:async()=>{try{l(!0);const{request:t}=await M(m,{...$,functionName:"claim"}),a=await S(m,t);await B(m,{hash:a}),s(e("tips.claimSuccess"),"success"),le()}catch(e){}finally{l(!1)}},variant:"bgWhite",className:"w-full md:w-[232px] h-[46px] md:h-[80px] md:!text-[24px]",children:e("claim")})]})]}),h.jsxs("div",{className:"relative z-[2] flex-none border-[#00A899] bg-white p-6 md:p-[2.5vw] border rounded-[16px] w-full md:w-[40vw]",children:[h.jsxs("div",{className:"font-bold text-[20px] lg:text-[32px]",children:[e("fomo.text7"),"：",h.jsx("span",{className:"mainColor",children:ne})]}),h.jsxs("div",{className:"flex justify-center items-center my-5 cursor-pointer",children:[h.jsx(t,{onClick:()=>{null!=ee&&ee!=BigInt(0)&&(te(ee-BigInt(1)),re(ee-BigInt(1)))},className:`\n                            ${null==ee||0n==ee?"grayscale opacity-30 cursor-not-allowed":"grayscale-0 opacity-100 hover:scale-105"}\n                          `}),h.jsx("div",{className:w("mx-[10px] text-[14px] md:text-[20px]"),children:null!=ee&&e("fomo.text6",{period:Number(ee)+1})}),h.jsx(E,{onClick:()=>{null!=ee&&ee!=Y&&(te(ee+BigInt(1)),re(ee+BigInt(1)))},className:`\n                            ${null==ee||ee==Y?"grayscale opacity-30 cursor-not-allowed":"grayscale-0 opacity-100 hover:scale-105"}\n                          `})]}),h.jsxs("div",{className:"border-[#D0D5DD] mt-[20px] lg:mt-[35px] pt-5 border rounded-[20px] md:h-[350px] min-h-[200px]",children:[h.jsxs("div",{className:"border-[#EEE] grid grid-cols-[1fr_2fr] mb-3 px-[15px] lg:px-[56px] p-[0_16px_10px] border-b font-medium text-[#B5B7C0] text-[14px] lg:text-[24px]",children:[h.jsx("div",{children:e("team.text9")}),h.jsx("div",{className:"text-center",children:e("team.text10")})]}),h.jsx("div",{className:"max-h-[600px] md:max-h-[260px] overflow-auto",children:null!=se?se.length>0?se.map(((e,t)=>h.jsxs("div",{className:"items-center border-[#EEE] grid grid-cols-[1fr_2fr] mx-[15px] lg:px-[56px] py-[15px] lg:py-[15px] border-b font-medium text-[#292D32] text-[14px] lg:text-[24px] ]",children:[h.jsx("div",{children:t+1}),h.jsx("div",{className:"text-center",children:N(e.user)})]},t))):h.jsxs("div",{className:"pt-[50px] md:pt-[300px] pb-[50px] md:pb-0 text-center",children:[h.jsx("img",{src:_,className:"m-auto w-[150px] md:w-[300px]"}),h.jsx("div",{className:"mt-[10px] text-[#B5B7C0] text-[14px] md:text-[30px]",children:e("fomo.NoWin")})]}):h.jsx(O,{className:"m-auto mt-[50px] lg:mt-[90px] w-[30px] animate-spin",color:"#6b7280"})})]})]}),v()&&h.jsx("img",{src:T,className:"right-0 z-[1] absolute md:mt-[-5vw] md:ml-[-10vw] md:w-[38vw]"})]})})})]})}))}}}));
